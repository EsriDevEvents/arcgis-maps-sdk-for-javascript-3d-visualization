import{e as o,y as d,l as Y,a as E}from"./jsonMap-ffa742d3.js";import{r as u,o as w,g as h}from"./typedArrayUtil-bf9f210a.js";import"./string-53224faa.js";import"./ArrayPool-b51874dd.js";import{o as D,r as y}from"./Extent-22afa84a.js";const f={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},C={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function U(e,t){const s=new Date(e,t+1,1);return s.setDate(0),s.getDate()}function p(e,t,s){const n=new Date(e.getTime());if(t&&s){const r=C[s],{getter:g,setter:c,multiplier:i}=r;if(s==="months"){const T=U(n.getFullYear(),n.getMonth()+t);n.getDate()>T&&n.setDate(T)}n[c](n[g]()+t*i)}return n}function F(e,t){switch(t){case"milliseconds":return new Date(e.getTime());case"seconds":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"minutes":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case"hours":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"weeks":return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case"months":return new Date(e.getFullYear(),e.getMonth(),1);case"years":return new Date(e.getFullYear(),0,1);case"decades":return new Date(e.getFullYear()-e.getFullYear()%10,0,1);case"centuries":return new Date(e.getFullYear()-e.getFullYear()%100,0,1);default:return new Date}}function x(e,t,s="milliseconds"){const n=new Date(m(t,s,"milliseconds"));return n.setUTCFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n}function j(e,t="milliseconds"){const s=m(e.getUTCHours(),"hours","milliseconds"),n=m(e.getUTCMinutes(),"minutes","milliseconds"),r=m(e.getUTCSeconds(),"seconds","milliseconds");return m(s+n+r+e.getUTCMilliseconds(),"milliseconds",t)}function k(e,t){const s=new Date(e.getTime());return s.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate()),s}function q(e){const t=new Date(0);return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t}function m(e,t,s){return e===0?0:e*f[t]/f[s]}var a;let l=a=class extends Y{static get allTime(){return M}static get empty(){return S}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return t.end!=null?new Date(t.end):null}writeEnd(e,t){t.end=e?e.getTime():null}get isAllTime(){return this.equals(a.allTime)}get isEmpty(){return this.equals(a.empty)}readStart(e,t){return t.start!=null?new Date(t.start):null}writeStart(e,t){t.start=e?e.getTime():null}clone(){return new a({end:this.end,start:this.start})}equals(e){if(!e)return!1;const t=u(this.start)?this.start.getTime():this.start,s=u(this.end)?this.end.getTime():this.end,n=u(e.start)?e.start.getTime():e.start,r=u(e.end)?e.end.getTime():e.end;return t===n&&s===r}expandTo(e){if(this.isEmpty||this.isAllTime)return this.clone();const t=w(this.start,n=>F(n,e)),s=w(this.end,n=>{const r=F(n,e);return n.getTime()===r.getTime()?r:p(r,1,e)});return new a({start:t,end:s})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return a.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=h(this.start,-1/0,i=>i.getTime()),s=h(this.end,1/0,i=>i.getTime()),n=h(e.start,-1/0,i=>i.getTime()),r=h(e.end,1/0,i=>i.getTime());let g,c;if(n>=t&&n<=s?g=n:t>=n&&t<=r&&(g=t),s>=n&&s<=r?c=s:r>=t&&r<=s&&(c=r),g!=null&&c!=null&&!isNaN(g)&&!isNaN(c)){const i=new a;return i.start=g===-1/0?null:new Date(g),i.end=c===1/0?null:new Date(c),i}return a.empty}offset(e,t){if(this.isEmpty||this.isAllTime)return this.clone();const s=new a,{start:n,end:r}=this;return u(n)&&(s.start=p(n,e,t)),u(r)&&(s.end=p(r,e,t)),s}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return M.clone();const t=u(this.start)&&u(e.start)?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,s=u(this.end)&&u(e.end)?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new a({start:t,end:s})}};o([d({type:Date,json:{write:{allowNull:!0}}})],l.prototype,"end",void 0),o([D("end")],l.prototype,"readEnd",null),o([y("end")],l.prototype,"writeEnd",null),o([d({readOnly:!0,json:{read:!1}})],l.prototype,"isAllTime",null),o([d({readOnly:!0,json:{read:!1}})],l.prototype,"isEmpty",null),o([d({type:Date,json:{write:{allowNull:!0}}})],l.prototype,"start",void 0),o([D("start")],l.prototype,"readStart",null),o([y("start")],l.prototype,"writeStart",null),l=a=o([E("esri.TimeExtent")],l);const M=new l,S=new l({start:void 0,end:void 0}),O=l;export{O as T,k as a,m as g,j as i,p as n,q as o,x as u};
